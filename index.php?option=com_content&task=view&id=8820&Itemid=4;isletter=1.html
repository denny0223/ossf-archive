<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-tw" lang="zh-tw" >
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link rel="shortcut icon" href="images/favicon.ico" />
	  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index, follow" />
  <meta name="keywords" content="OSSFNL810" />
  <meta name="title" content="Graphviz - 用指令來畫關係圖吧！" />
  <meta name="description" content=" 軟體名稱：Graphviz 介紹版本：2.28.0 官網：https://www. gr aphviz.org/ 授權：GPL-1.0/ 簡介 Graphv iz 是一個運用廣泛的命令行繪圖軟體， 不過說是繪圖軟體，它能繪的圖並不是一般人想像中的漫畫或 logo，而是數學意義上的 'graph'，比較通俗的說法就是「關係圖」。 舉例來說，像是下面這種圖： ▲ 圖1：Unix" />
  <meta name="generator" content="" />
  <title>Graphviz - 用指令來畫關係圖吧！ - OpenFoundry</title>
  <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <link rel="stylesheet" href="components/com_jcomments/tpl/default/style.css%3Fv=10.css" type="text/css" />
  <link rel="stylesheet" href="components/com_gantry/css/gantry.css" type="text/css" />
  <link rel="stylesheet" href="components/com_gantry/css/grid-12.css" type="text/css" />
  <link rel="stylesheet" href="components/com_gantry/css/joomla.css" type="text/css" />
  <link rel="stylesheet" href="templates/rt_quantive_j15/css/joomla.css" type="text/css" />
  <link rel="stylesheet" href="templates/rt_quantive_j15/css/style1.css" type="text/css" />
  <link rel="stylesheet" href="templates/rt_quantive_j15/css/light-body.css" type="text/css" />
  <link rel="stylesheet" href="templates/rt_quantive_j15/css/demo-styles.css" type="text/css" />
  <link rel="stylesheet" href="templates/rt_quantive_j15/css/template.css" type="text/css" />
  <link rel="stylesheet" href="templates/rt_quantive_j15/css/typography.css" type="text/css" />
  <link rel="stylesheet" href="templates/rt_quantive_j15/css/fusionmenu.css" type="text/css" />
  <style type="text/css">
    <!--
#rt-main-surround ul.menu li.active > a, #rt-main-surround ul.menu li.active > .separator, #rt-main-surround ul.menu li.active > .item, #rt-main-surround .square4 ul.menu li:hover > a, #rt-main-surround .square4 ul.menu li:hover > .item, #rt-main-surround .square4 ul.menu li:hover > .separator, .roktabs-links ul li.active span {color:#0088B5;}
a, #rt-main-surround ul.menu a:hover, #rt-main-surround ul.menu .separator:hover, #rt-main-surround ul.menu .item:hover {color:#0088B5;}
    -->
  </style>
  <script type="text/javascript" src="components/com_jcomments/js/jcomments-v2.1.js%3Fv=2"></script>
  <script type="text/javascript" src="components/com_jcomments/libraries/joomlatune/ajax.js"></script>
  <script type="text/javascript" src="media/system/js/mootools.js"></script>
  <script type="text/javascript" src="media/system/js/caption.js"></script>
  <script type="text/javascript" src="components/com_gantry/js/gantry-buildspans.js"></script>
  <script type="text/javascript" src="components/com_gantry/js/gantry-inputs.js"></script>
  <script type="text/javascript" src="templates/rt_quantive_j15/js/jquery.cookie.js"></script>
  <script type="text/javascript" src="modules/mod_roknavmenu/themes/fusion/js/fusion.js"></script>
  <script type="text/javascript" src="modules/mod_ofssologin/js/ofssologin.js"></script>
  <script type="text/javascript">

			window.addEvent('domready', function() {
				var modules = ['rt-block'];
				var header = ['h3','h2','h1'];
				GantryBuildSpans(modules, header);
			});
		InputsExclusion.push('.content_vote','#rt-popup')
		        window.addEvent('load', function() {
					new Fusion('ul.menutop', {
						pill: 0,
						effect: 'slide and fade',
						opacity: 1,
						hideDelay: 500,
						centered: 0,
						tweakInitial: {'x': -2, 'y': 0},
        				tweakSubsequent: {'x': 0, 'y': -14},
						menuFx: {duration: 200, transition: Fx.Transitions.Sine.easeOut},
						pillFx: {duration: 400, transition: Fx.Transitions.Back.easeOut}
					});
	            });
  </script>
<!-- <script type="text/javascript" src="/sso/javascripts/langsync.js"></script> -->
<!-- <script src="/templates/rt_quantive_j15/js/ossf.js"></script> -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4136519-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
	<body  class="backgroundlevel-low backgroundstyle-style8 bodylevel-med bodystyle-light cssstyle-style1 logostyle-dark font-family-helvetica font-size-is-default menu-type-fusionmenu col12 ">
		<div id="rt-main-background">
			<div class="rt-container">
																<div id="rt-header">
					<div class="rt-grid-7 rt-alpha">
    			<div class="rt-block">
    	    	<a href="index.html" id="rt-logo"></a>
    		</div>
	    
</div>
<div class="rt-grid-5 rt-omega">
                    <div class="square9">
                    <div class="rt-block">
				<div class="rt-module-surround">
					<div class="rt-module-top"><div class="rt-module-top2"><div class="rt-module-top3"></div></div></div>
					<div class="rt-module-inner">
	                							<div class="module-content">
		                	<div class="ofssologin_square9"><a href="index.html">登入</a>&nbsp;&nbsp|&nbsp;&nbsp;<span><a href="en/news/8820%3Ftask=view.html" ><span lang="en" xml:lang="en">English</span></a></li></ul></span><!--Joom!fish V2.0.4 (Lightning)-->
<!-- &copy; 2003-2009 Think Network, released under the GPL. -->
<!-- More information: at http://www.joomfish.net -->
<div class="ofssologin_search_square9">
  <form id="of_search" action="https://www.openfoundry.org/of/openfoundry/search" method="get" onsubmit="of_search(); return false;">
    <select id="of_search_type">
      <option value="Projects"> 專案 </option>
      <option value="Content"> 文章 </option>
      <option value="People"> 人才 </option>
    </select>
    <input id="query" name="query" id="mod_search_searchword" maxlength="50" alt="search" class="inputbox" type="text" size="28" value="search..."  onblur="if(this.value=='') this.value='search...';" onfocus="if(this.value=='search...') this.value='';" />
    <input type="hidden" name="commit" value="search" />
  </form>
</div></div>						</div>
					</div>
					<div class="rt-module-bottom"><div class="rt-module-bottom2"><div class="rt-module-bottom3"></div></div></div>
				</div>
            </div>
                </div>
		
</div>
					<div class="clear"></div>
				</div>
																<div id="rt-navigation"><div id="rt-navigation2"><div id="rt-navigation3">
					
<div class="nopill">
	<ul class="menutop level1 " >
						<li class="item1 root" >
					<a class="orphan item bullet" href="index.html"  >
				<span>
			    				首頁				   
				</span>
			</a>
			
			
	</li>	
							<li class="item32 root" >
					<a class="orphan item bullet" href="archived.html"  >
				<span>
			    				專案				   
				</span>
			</a>
			
			
	</li>	
							<li class="item186 root" >
					<a class="orphan item bullet" href="tw/community.html"  >
				<span>
			    				Who&#039;s Who				   
				</span>
			</a>
			
			
	</li>	
							<li class="item4 active root" >
					<a class="orphan item bullet" href="tw/news.html"  >
				<span>
			    				新聞				   
				</span>
			</a>
			
			
	</li>	
							<li class="item5 root" >
					<a class="orphan item bullet" href="tw/law-and-licensing.html"  >
				<span>
			    				法律源地				   
				</span>
			</a>
			
			
	</li>	
							<li class="item3 root" >
					<a class="orphan item bullet" href="tw/activities.html"  >
				<span>
			    				活動				   
				</span>
			</a>
			
			
	</li>	
							<li class="item2 root" >
					<a class="orphan item bullet" href="tw/resourcecatalog%3FName=Value.html"  >
				<span>
			    				資源表列				   
				</span>
			</a>
			
			
	</li>	
							<li class="item45 root" >
					<a class="orphan item bullet" href="tw/about.html"  >
				<span>
			    				關於				   
				</span>
			</a>
			
			
	</li>	
				</ul>
</div>

				    <div class="clear"></div>
				</div></div></div>
								<div class="rt-surround"><div class="rt-surround2"><div class="rt-surround3">
										<div id="rt-showcase-section">
												<div id="rt-showcase">
							<div class="rt-grid-12 rt-alpha rt-omega">
    		<div class="clear"></div>
		
		
                <div class="close-note">
                    <div class="rt-block">
               					<div class="module-content">
                	<div style="font-size:medium; background-image:linear-gradient(120deg,#159957,#4298b2);color:white;padding:20px;margin:-10px -18px;">感謝您對「自由軟體鑄造場」的支持與愛護，十多年來「自由軟體鑄造場」受中央研究院支持，並在資訊科學研究所以及資訊科技創新研究中心執行，現已完成階段性的任務。 <a style="color: #45d1ff;" href="https://www.openfoundry.org/">原網站</a>預計持續維運至 2021年底，網站內容基本上不會再更動。本網站由 <a style="color: #45d1ff;" href="https://denny.one/">Denny Huang</a> 備份封存。<br />也紀念我們永遠的朋友 李士傑先生（Shih-Chieh Ilya Li）。</div>				</div>
            </div>
                </div>
		
</div>
							<div class="clear"></div>
						</div>
																	</div>
															<div id="rt-main-surround">
												<div id="rt-breadcrumbs">
								<div class="rt-breadcrumb-surround">
		<a href="index.html" id="breadcrumbs-home"></a>
		<span class="breadcrumbs pathway">
<span class="no-link">新聞</span></span>
	</div>
	
							<div class="clear"></div>
						</div>
																							              <div id="rt-main" class="sa3-mb9">
                <div class="rt-main-inner">
                    <div class="rt-grid-9 rt-push-3">
                                                <div class="rt-block">
                            							<div class="square1">
							<div class="rt-module-surround">
								<div class="rt-module-top"><div class="rt-module-top2"><div class="rt-module-top3"></div></div></div>
								<div class="rt-module-inner">
		                            <div id="rt-mainbody">
		                                
<div class="rt-joomla ">
	<div class="rt-article">
		
				<div class="rt-headline"><h1 class="rt-article-title">Graphviz - 用指令來畫關係圖吧！</h1>		</div>
		<div class="clear"></div>
		
		
		
				<div class="rt-articleinfo">
						<div class="rt-article-icons">
								<a href="tw/news/8820-graphviz-%3Ftmpl=component&amp;print=1&amp;page=.html" title="列印" onclick="window.open(this.href,'win2','status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=640,height=480,directories=no,location=no'); return false;" rel="nofollow"><span class="icon print"></span></a>																</div>
			
			<span class="rt-date-posted">
						建立日期			2012-10-17 00:00						&nbsp;&nbsp;&nbsp;&nbsp;						最近更新在 2013-05-15 13:04						</span>

						<span class="rt-author">
				作者是 林雪凡			</span>
				
					</div>
		
		
		<div class="quote">
<div class="quote-l">
<div class="quote-r"><strong>軟體名稱</strong>：Graphviz<br /> <strong>介紹版本</strong>：2.28.0<br /> <strong>官網</strong>：<a href="en/resourcecatalog/General-Applications/Office/graphviz/visit.html" target="_blank">https://www.graphviz.org/</a><br /> <strong>授權</strong>：<a href="licenses/2062-cpl-and-epl.html" target="_blank">GPL-1.0/</a></div>
</div>
</div>
<h2>簡介</h2>
<p>Graphviz 是一個運用廣泛的命令行繪圖軟體，不過說是繪圖軟體，它能繪的圖並不是一般人想像中的漫畫或 logo，而是數學意義上的 "graph"，比較通俗的說法就是「關係圖」。</p>

<p>舉例來說，像是下面這種圖：</p>
<div><a href="images/121002/Graphviz/graphviz_01.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_01.jpg" alt="alt" width="500" /></a></div>
<p>▲ 圖1：Unix 家族。Graphviz 官網的示範圖片之一。</p>
<p>用手畫會很痛苦，而 Graphviz 可以替使用者搞定它。Graphviz 提供一套語言，讓您能直接陳述圖片上的節點、邊、方向等性質。之後，由它來為您產生整張圖片。</p>
<p>Graphviz 能畫的圖片有許多種，您可在<a href="https://www.graphviz.org/Gallery.php" target="_blank">官網</a>挖到更多範例。</p>
<h2>安裝</h2>
<p>Graphviz 支援 Windows、Mac OS X、FreeBSD、Solaris、Linux 等多種作業系統。</p>
<p>若您是 Linux 使用者，基於這款軟體的名氣，您的套件管理器中幾乎一定會有，從套件庫中安裝吧！倘若真找不到，請看<a href="https://www.graphviz.org/Download.php" target="_blank">官網下載頁面</a>，試試原始碼。</p>
<p>若您是 Windows 用戶，請前往這裡下載安裝檔：<a href="https://www.graphviz.org/Download_windows.php" target="_blank">https://www.graphviz.org/Download_windows.php</a></p>
<p>Mac OS X 的使用者請往這邊走：<a href="https://www.graphviz.org/Download_macos.php" target="_blank">https://www.graphviz.org/Download_macos.php</a></p>
<h2>Graphviz 的使用</h2>
<pre>1  # Graphviz
2  ＞＜cmd＞ ＜inputfile＞ -T ＜format＞ -o ＜outputfile＞
3 
4  # 舉例：輸出 png
5  ＞ dot input.dot -T png -o output.png
6  # 舉例：一樣是輸出 png，只不過檔名是 txt
7  ＞ dot input.dot -T png -o output.txt
</pre>
<p>首先，我們看看上面的 ＜cmd＞ 部份。</p>
<p>Graphviz 的 ＜cmd＞ 有好幾種，每種使用方法都完全相同，差別只在於渲染出來的圖片效果不一樣。man 中的簡介是這樣寫的......</p>
<strong>dot</strong>
<p style="margin-left: 30px;" id="i3">渲染的圖具有明確方向性。</p>
<strong>neato</strong>
<p style="margin-left: 30px;" id="i3">渲染的圖缺乏方向性。</p>
<strong>twopi</strong>
<p style="margin-left: 30px;" id="i3">渲染的圖採用放射性佈局。</p>
<strong>circo</strong>
<p style="margin-left: 30px;" id="i3">渲染的圖採用環型佈局。</p>
<strong>fdp</strong>
<p style="margin-left: 30px;" id="i3">渲染的圖缺乏方向性。</p>
<strong>sfdp</strong>
<p style="margin-left: 30px;" id="i3">渲染大型的圖，圖片缺乏方向性。</p>
<p>您可以透過 man ＜cmd＞ 取得進一步說明。但還是親自用用比較容易理解。在本文中，凡沒有說明的圖，預設都是 以 dot 渲染出來的。</p>
<p>繼續往下看。在 Graphviz 中，若您不指定 -T 參數，Graphviz 並不會自動猜測您想要產生什麼格式，只會以預設格式渲染。可選格式相當多，包括（但不限於）jpg、png、svg 等，全部列表可見<a href="https://www.graphviz.org/doc/Dot.ref" target="_blank">官網說明頁</a>的最下方。</p>
<p>-o 可讓您指定儲存檔案的檔名。如果您不用 -o 選項指定輸出檔名，Graphviz 則會將結果輸出到標準輸出上。</p>
<p>除非用法很特殊，否則這兩個參數，每次都要記得下達才行。</p>
<h2>dot 語言說明</h2>
<p>指揮 Graphviz 繪圖時，所使用的語言叫作 "dot"。下邊就來介紹如何使用它。</p>
<h3>有向圖與無向圖</h3>
<p>使用 dot 語言，第一步就是決定要畫哪種圖。</p>
<p>圖分兩種：有向圖與無向圖。</p>
<div><a href="images/121002/Graphviz/graphviz_02.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_02.jpg" alt="alt" /></a></div>
<p>▲ 圖2：有向圖</p>
<div><a href="images/121002/Graphviz/graphviz_03.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_03.jpg" alt="alt" /></a></div>
<p>▲ 圖3：無向圖</p>
<p>有向圖以 digraph 宣告圖片，節點間的關係寫為 "->"。</p>
<pre>1  /*demo1。順便一提，在 dot 語言中可使用 C++ 中允許的註解。本行為 C 風格註解*/
2  digraph demo1{ //這也是註解，C++ 風格的。
3        a -> b -> c;
4        c -> a;
5  }
</pre>
<p>無向圖以 graph 宣告圖片，節點間的關係可以寫為 "--"。</p>
<pre>1  //demo2
2  graph demo2{
3       a -- b -- c;
4       c -- a;
5  }
</pre>
<p>其中 demo1 與 demo2 是圖片的名稱，一般使用時常常留白不打。</p>
<h3>使用引號</h3>
<p>上文中的 a, b, c 除了作為程式內的識別字以外，也會成為節點的顯示名稱 (label)。不過如果這名稱中混了中文或夾了空格，Graphviz 就有可能搞錯你的意思。</p>
<p>為防不必要的誤解，所以平常最好都用英文引號括住。就像下面這樣：</p>
<pre>1  //demo3
2  digraph {
3      "總 攻" -> "受";
4      "強 攻" -> "受";
5      "健氣攻" -> "受";
6  }
</pre>
<div><a href="images/121002/Graphviz/graphviz_04.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_04.jpg" alt="alt" /></a></div>
<p>▲ 圖4：混合了空白的示範，採用 fdp 渲染。</p>
<p>這樣就沒問題了！</p>
<h3>子圖與簡化技巧</h3>
<p>來看個複雜一點的例子，這是一份地中海海域的大略連接圖：</p>
<pre>1  graph G{
2      "黑海" -- "亞速海";
3      "黑海" -- "博斯普魯斯海峽"
4      "達達尼爾海峽" -- "愛琴海"
5      subgraph cluster_T{ // 新東西
6          label = "黑海海峽"; // 新東西
7           "達達尼爾海峽" -- "馬爾馬拉海" -- "博斯普魯斯海峽";
8      }
9       subgraph cluster_M{
10          label = "地中海海域";
11          "中部地中海" -- {"愛琴海" "愛奧尼亞海" "西西里海峽"}; // 也是新東西
12          "西部地中海" -- {"西西里海峽" "第勒尼安海" "利古里亞海" "伊比利海" "阿爾沃蘭海"};
13          "愛奧尼亞海" -- "亞得裡亞海";
14          "阿爾沃蘭海" -- "直布羅陀海峽";
15     }
16  }
</pre>
<div>
<div><a href="images/121002/Graphviz/graphviz_05.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_05.jpg" alt="alt" width="500" /></a></div>
</div>
<p>▲ 圖5：地中海海域連接圖，使用 fdp 渲染，種子為 8 (-Gstart=8)。</p>
<p>這張圖有些新東西可以看。</p>
<p>第一個是 subgraph 關鍵字。一如名字所示，他是用來定義「次級圖片」用的。</p>
<p>次級圖片在 dot 的官方文件中常被叫作 cluster subgraph，特指圖示中被方框包裹起來的那兩塊，其定義方式和一般的 graph 非常相似，不過使用上有兩件事需要留意：</p>
<ol style="list-style-type: decimal;">
<li>他的命名得以 cluster 前綴開頭，否則語法雖然能過關，但生不出圖面上您預期的效果。</li>
<li>如果父圖是無向圖，他本身也得是無向圖；反之如果父圖是有向圖，這邊也得乖乖照著來。</li>
</ol>
<p>第二個重點是下面這段：</p>
<pre>1        "中部地中海" -- {"愛琴海" "愛奧尼亞海" "西西里海峽"};</pre>
<p>用大括號括起，用空格分開－這是一口氣將好幾個節點群組起來同時操作的方法，其等效於：</p>
<pre>1        "中部地中海" -- "愛琴海";
2        "中部地中海" -- "愛奧尼亞海";
3        "中部地中海" -- "西西里海峽";
</pre>
<p>您甚至可以用以下程式碼畫出圖6：</p>
<pre>1  digraph G{
2     {a b c} -> {d e f}
3  }
</pre>
<div><a href="images/121002/Graphviz/graphviz_06.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_06.jpg" alt="alt" /></a></div>
<p>▲ 圖6：大括號效果示意圖</p>
<p>這語法糖很方便好吃，可以靈活運用。</p>
<p>第三個不同處在於 label = XXX 這行。這是「屬性」的指定方式。</p>
<p>關於屬性，我們下章再講。</p>
<h3>屬性</h3>
<p>有了前面介紹過的技巧，所有圖面關係都可以順利地繪製出來。</p>
<p>然而，通常我們畫圖的時候，還會對圖片做一些特別的處理。好比說把字加粗、把圖變色、把標籤或連接線的外型 改變、把某些節點水平對齊......諸如此類。</p>
<p>要控制這些東西，就要用到屬性。</p>
<p>屬性有四種：</p>
<ol style="list-style-type: decimal;">
<li>用在節點上 (Node, N)</li>
<li>用在線段上 (Edge, E)</li>
<li>用在根圖片上 (Graph, G)</li>
<li>用在子圖片上 (Cluster subgraph, C)</li>
</ol>
<p>您可以閱讀<a href="https://www.graphviz.org/doc/info/attrs.html" target="_blank">手冊</a>中的表，判斷哪些屬性能用在哪些地方。</p>
<p>那麼，屬性要怎麼用呢？</p>
<h4>屬性的套用</h4>
<p>如果要設定根圖片或子圖片的屬性，得像前面範例中所示的那樣，在圖片的大括號範圍內指定......</p>
<pre>屬性名稱=值;</pre>
<p>這樣就行了。</p>
<p>對於節點 (node) 的屬性，有以下幾種指定法：</p>
<pre>1  節點名 [節點屬性名=值];
2  節點名 [節點屬性名=值, 節點屬性名=值];
3  node [節點屬性名=值，節點屬性名=值];
</pre>
<p>屬性指定的語句必須要被中括號括起。當一次指定多值時，需用英文逗點隔開。</p>
<p>第三行中的 node 是個關鍵字，用來代稱「圖片範圍內」所有「還沒創建」的節點，或者您也可將它理解為：在當前大括號的範圍內，所有尚未創建節點的屬性預設值，會被這個語句給變更。</p>
<p>線段 (edge) 的屬性指定，與節點屬性指定方式很類似：</p>
<pre>1  節點名 -> 節點名 [線段屬性名=值];
2  節點名 -- 節點名 [線段屬性名=值, 線段屬性名=值];
3  edge [線段屬性名=值，線段屬性名=值];
</pre>
<p>其中 edge 是關鍵字。</p>
<p>這邊順便補充一個關於線段的觀念：有些線段相關的屬性，具有 head 值與 tail 值。而這邊說的 head 與 tail，得將它想 像成一個「箭頭」的形狀（就像是「a -> b」這樣）。</p>
<p>對於線段來說，這個箭頭的頭部才是 head。所以囉，這可能和您最初想像的不一樣，因為這邊說的「Head」其實是 兩個節點中，後面的那一個。</p>
<h4>屬性範例</h4>
<p>把先前的看過的例子加上一些屬性試試。</p>
<pre>1  graph G{
2      "黑海" [shape = circle, color = blueviolet, fontcolor = blueviolet, fontsize = 20];
3      "黑海" -- "亞速海" [label = "刻赤海峽"];
4 
5      subgraph cluster_T{
6          label = "黑海海峽";
7          fontsize = 24;
8          fillcolor = darkslategray;
9          style = filled;
10         fontcolor = white;
11         node [fontcolor = white, color = white];
12         "博斯普魯斯海峽" -- "馬爾馬拉海" -- "達達尼爾海峽" [color = white];
13         "博斯普魯斯海峽" [shape = parallelogram];
14         "達達尼爾海峽" [shape = parallelogram];
15     }
16 
17      "黑海" -- "博斯普魯斯海峽" [color = red ,penwidth = 2];
18      "達達尼爾海峽" -- "愛琴海" [color = red ,penwidth = 2];
19 
20      subgraph cluster_M{
21          label = "地中海海域";
22          fontsize = 24;
23          "西部地中海" [shape = Mcircle, style = filled, color = grey, fillcolor = aquamarine, fontsize = 20];
24          "中部地中海" [shape = Mcircle, style = filled, color = grey, fillcolor = aquamarine, fontsize = 20];
25          "直布羅陀海峽" [shape = parallelogram, fontcolor = red];
26          "西西里海峽" [shape = parallelogram];
27          "中部地中海" -- {"愛琴海" "愛奧尼亞海" "西西里海峽"};
28          "西部地中海" -- {"西西里海峽" "第勒尼安海" "利古里亞海" "伊比利海" "阿爾沃蘭海"};
29          "愛奧尼亞海" -- "亞得裡亞海";
30          "阿爾沃蘭海" -- "直布羅陀海峽";
31      }
32  }
</pre>
<div>
<div><a href="images/121002/Graphviz/graphviz_07.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_07.jpg" alt="alt" width="500" /></a></div>
</div>
<p>▲ 圖7：地中海海域連接圖（加入屬性）。使用 fdp 渲染，種子為 3 (-Gstart=3)。</p>
<p>諸多屬性中，最常用的大概是 label 了。</p>
<p>label 可以決定節點、線段或子圖片上要顯示些什麼。如果您的節點名很長的話，可以在程式內部取個簡短的名稱， 之後透過短名稱操作它，另外透過 label 指定它的顯示內容。</p>
<p>color、fillcolor、fontcolor 這些屬性都是控制顏色用的，不過 fillcolor 只有在 style 被指定為 "filled" 時才會生效。</p>
<p>shape 可以指定節點的形狀，形狀列表<a href="https://www.graphviz.org/content/node-shapes" target="_blank">官網這邊</a>有一份資料可參考。</p>
<p>線段屬性方面。有向圖中的箭頭可透過 arrowhead 與 arrowtail 屬性來指定頭尾樣式。至於線段本身，則可透過 style 屬 性，指定不同類型的虛線與短截線。使用者還可以用 dir 屬性讓箭頭方向反過來。</p>
<p>另外還有一個 image 屬性，可以指定讓 node 顯示圖片，需要時也可參考看看。</p>
<p>......屬性實在太多，無法一一介紹，請查官網手冊獲得全面<a href="https://www.graphviz.org/doc/info/attrs.html" target="_blank">訊息</a>。</p>
<h4>rank</h4>
<p>dot 語言中有一個叫作 rank 的概念。</p>
<p>所謂的 rank，在 dot 語言中，含意比較接近於「等級」。他主要用在 dot 渲染器中。</p>
<p>請看以下的圖：</p>
<div><a href="images/121002/Graphviz/graphviz_08.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_08.jpg" alt="alt" /></a></div>
<p>▲ 圖8：rank 示例。</p>
<p>很明顯可以看出來，圖片被從上到下分為四層－這就是 rank。</p>
<p>下方是與上圖對應的 dot 陳述......</p>
<pre>1  digraph demo{
2     a -> b -> c -> d;
3     b -> {e f};
4  }
</pre>
<p>觀察程式碼，可看出 rank 是如何被指定的。</p>
<p>其基本規則在於：每個線段的頭端，都會比尾端多出一個等級（在圖上面就是往下面一層）。</p>
<p>但等等，如果等級指定的語句彼此矛盾呢？</p>
<p>修改以上程式碼為......</p>
<pre>1  digraph demo{
2     a -> b -> c -> d [label = "rank 增加"];
3     b -> {e f} [label = "rank 增加"];
4     f -> a [label = "不影響 rank"];
5  }
</pre>
<div><a href="images/121002/Graphviz/graphviz_09.jpg" target="_blank"><img src="images/121002/Graphviz/graphviz_09.jpg" alt="alt" /></a></div>
<p>▲ 圖9：rank 示例。</p>
<p>看上面的結果，顯然 rank 的指定是「先說先贏」的。</p>
<p>除了基本規則外，rank 也可以透過屬性來加以調節，有必要時就把手冊抓出來查查看。</p>
<br />
<h2>參考資料</h2>
<ol style="list-style-type: decimal;">
<li>官網屬性手冊，要查屬性就來這看：<br /><a href="https://www.graphviz.org/content/attrs" target="_blank">https://www.graphviz.org/content/attrs</a>。</li>
<li>官網純文字版 Graphviz 使用說明兼 dot 語言手冊：<br /><a href="https://www.graphviz.org/doc/Dot.ref" target="_blank">https://www.graphviz.org/doc/Dot.ref</a>。</li>
<li>如果您偏好 pdf 版本的說明書，請到這邊下載：<br /><a href="https://www.graphviz.org/doc/dotguide.pdf" target="_blank">https://www.graphviz.org/doc/dotguide.pdf</a>。</li>
</ol>
			<!-- Show relate article -->
				<!-- end -->
		<div class="article_note">
		<!-- Add tags use metakey, and show OSSF Newsletter tag: OSSFNL+NUM-->
		<br><br> <hr style='border: 1px dashed #D2DADB;'><b>自由軟體鑄造場電子報&nbsp;:</b>&nbsp;<a href='previous-issue%3Ftask=view&amp;id=810.html'>第 206 期 從開源軟體到開放資料－論 Open Database License v1.0</a><br>				<!-- End -->
					<br>
					<b>分類: </b><a href="tw/foss-programs.html">				源碼秘技					</a>				</div>
			 <!-- AddThis Button BEGIN ID 3001 is the front page article -->
     			<br><br>
       <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
       <a class="addthis_button_preferred_1"></a>
       <a class="addthis_button_preferred_2"></a>
       <a class="addthis_button_preferred_3"></a>
       <a class="addthis_button_preferred_4"></a>
       <a class="addthis_button_compact"></a>
       <a class="addthis_counter addthis_bubble_style"></a>
       </div>
       <script type="text/javascript">var addthis_config = {"data_track_clickback":true};</script>
       <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=openfoundry"></script>
       <!-- AddThis Button END -->
     <br>
		<div class="totop" ><a class="rt-totop" href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#" style="outline: medium none;">↑ Top</a></div>
            <!-- AddThis Button END -->

		<script type="text/javascript">
var jcomments=new JComments(8820, 'com_content','https://openfoundry.org/index.php?option=com_jcomments&amp;tmpl=component&amp;lang=');
jcomments.setList('comments-list');
</script>
<div id="jc">
<div id="comments"><h4>評論<a class="refresh" href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#" title="重新整理評論列表" onclick="jcomments.showPage(8820,'com_content',0);return false;">&nbsp;</a></h4>
<div id="comments-list" class="comments-list">
        <div class="even" id="comment-item-448"><div class="rbox"><div class="rbox_tr"><div class="rbox_tl"><div class="rbox_t">&nbsp;</div></div></div><div class="rbox_m">
<div class="comment-avatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=6702fe3dd884d7745e6cdb6be01383b6&amp;default=https%3A%2F%2Fwww.openfoundry.org%2Fcomponents%2Fcom_jcomments%2Fimages%2Fno_avatar.png" alt="" /></div>
<div class="comment-box avatar-indent">
<span class="comments-vote">
	<span id="comment-vote-holder-448">
<a href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#" class="vote-good" title="優質的評論" onclick="jcomments.voteComment(448, 1);return false;"></a><a href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#" class="vote-poor" title="差勁的評論" onclick="jcomments.voteComment(448, -1);return false;"></a>
<span class="vote-none">0</span>
	</span>
</span>
<a class="comment-anchor" href="tw/foss-programs/8820-graphviz-.html#comment-448" id="comment-448">#1</a>
<span class="comment-author">Harry</span>
<span class="comment-date">2013-08-16 15:17</span>
<div class="comment-body" id="comment-body-448">您好,<br />我下載這個程式來玩了.<br />但無法顯示中文, 請問您是如何做出來的呢?</div>
</div><div class="clear"></div>
</div><div class="rbox_br"><div class="rbox_bl"><div class="rbox_b">&nbsp;</div></div></div></div>
</div>
        <div class="odd" id="comment-item-449"><div class="rbox"><div class="rbox_tr"><div class="rbox_tl"><div class="rbox_t">&nbsp;</div></div></div><div class="rbox_m">
<div class="comment-avatar"><img src="http://www.gravatar.com/avatar.php?gravatar_id=f4c05b4f2542c4153b85472f8dc00f99&amp;default=https%3A%2F%2Fwww.openfoundry.org%2Fcomponents%2Fcom_jcomments%2Fimages%2Fno_avatar.png" alt="" /></div>
<div class="comment-box avatar-indent">
<span class="comments-vote">
	<span id="comment-vote-holder-449">
<a href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#" class="vote-good" title="優質的評論" onclick="jcomments.voteComment(449, 1);return false;"></a><a href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#" class="vote-poor" title="差勁的評論" onclick="jcomments.voteComment(449, -1);return false;"></a>
<span class="vote-none">0</span>
	</span>
</span>
<a class="comment-anchor" href="tw/foss-programs/8820-graphviz-.html#comment-449" id="comment-449">#2</a>
<a class="author-homepage" href="https://blog.civa.me" rel="nofollow" title="林雪凡">林雪凡</a>
<span class="comment-date">2013-08-17 05:52</span>
<div class="comment-body" id="comment-body-449">是不是中文字外側沒加引號（""）？我一時只能想到這個……<br /><br />註：我在 opensuse 11.1、fedora 18、debian Jessie 上都測試過。不管哪個平台都沒有<span style="font-size:0px;padding:0;margin:0;"> </span>特別調過設定，裝下去就能用了，<span style="font-size:0px;padding:0;margin:0;"> </span>暫時不太確定問題出在哪裡。</div>
</div><div class="clear"></div>
</div><div class="rbox_br"><div class="rbox_bl"><div class="rbox_b">&nbsp;</div></div></div></div>
</div>
</div>
<div id="comments-list-footer"><a class="refresh" href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#" title="重新整理評論列表" onclick="jcomments.showPage(8820,'com_content',0);return false;">重新整理評論列表</a></div>
</div>
<div id="comments-footer" align="center"><a href="http://www.joomlatune.com" title="JComments" target="_blank">JComments</a></div>
<script type="text/javascript">
jcomments.setAntiCache(1,0,0);
</script> 
</div>	</div>
</div>

		                            </div>
									<div class="clear"></div>
								</div>
								<div class="rt-module-bottom"><div class="rt-module-bottom2"><div class="rt-module-bottom3"></div></div></div>
							</div>
							</div>
                                                    </div>
                                            </div>
                                <div class="rt-grid-3 rt-pull-9">
                <div id="rt-sidebar-a">
                                    <div class="square4">
                    <div class="rt-block">
				<div class="rt-module-surround">
					<div class="rt-module-top"><div class="rt-module-top2"><div class="rt-module-top3"></div></div></div>
					<div class="rt-module-inner">
	                							<div class="module-content">
		                	<ul class="menu"><li class="item56"><a href="tw/previous-issue.html"><span>電子報總覽</span></a></li><li class="item55"><a href="tw/about-newsletter.html"><span>關於本報</span></a></li></ul>						</div>
					</div>
					<div class="rt-module-bottom"><div class="rt-module-bottom2"><div class="rt-module-bottom3"></div></div></div>
				</div>
            </div>
                </div>
		                    <div class="rt-block">
				<div class="rt-module-surround">
					<div class="rt-module-top"><div class="rt-module-top2"><div class="rt-module-top3"></div></div></div>
					<div class="rt-module-inner">
	                							<div class="module-content">
		                	<ul class="menu"><li class="item115"><a href="tw/foss-news.html"><span>源碼新聞</span></a></li><li class="item141"><a href="tw/case-job.html"><span>接案 / 工作</span></a></li></ul>						</div>
					</div>
					<div class="rt-module-bottom"><div class="rt-module-bottom2"><div class="rt-module-bottom3"></div></div></div>
				</div>
            </div>
        	                <div class="square1">
                    <div class="rt-block">
				<div class="rt-module-surround">
					<div class="rt-module-top"><div class="rt-module-top2"><div class="rt-module-top3"></div></div></div>
					<div class="rt-module-inner">
	                							<div class="module-title"><h2 class="title">專欄總覽</h2></div>
						<div class="clear"></div>
		                						<div class="module-content">
		                	<ul class="menu"><li class="item37"><a href="tw/tech-column.html"><span>技術專欄</span></a></li><li class="item40"><a href="tw/foss-programs.html"><span>源碼秘技</span></a></li><li class="item35"><a href="tw/legal-article-.html"><span>法律專欄</span></a></li><li class="item154"><a href="tw/foss-forum.html"><span>自由專欄</span></a></li><li class="item162"><a href="tw/enterprise-application.html"><span>企業應用</span></a></li><li class="item44"><a href="tw/foss-projects.html"><span>源碼專案</span></a></li></ul>						</div>
					</div>
					<div class="rt-module-bottom"><div class="rt-module-bottom2"><div class="rt-module-bottom3"></div></div></div>
				</div>
            </div>
                </div>
		                <div class="square1">
                    <div class="rt-block">
				<div class="rt-module-surround">
					<div class="rt-module-top"><div class="rt-module-top2"><div class="rt-module-top3"></div></div></div>
					<div class="rt-module-inner">
	                							<div class="module-content">
		                	<p style="text-align: center;"><a href="news%3Fformat=feed&amp;type=rss" target="_black"><img src="images/M_images/news-rss-feed.png" border="0" /></a><br /><a href="https://www.openfoundry.org/rss-feed/Newsletter" target="_black"><img src="images/M_images/newsletter-rss-feed.png" border="0" /></a></p>						</div>
					</div>
					<div class="rt-module-bottom"><div class="rt-module-bottom2"><div class="rt-module-bottom3"></div></div></div>
				</div>
            </div>
                </div>
		
                </div>
            </div>

                    <div class="clear"></div>
                </div>
            </div>
																													</div>
										<div id="rt-copyright">
						<div class="rt-grid-12 rt-alpha rt-omega">
                        <div class="rt-block">
				<div class="rt-module-surround">
					<div class="rt-module-top"><div class="rt-module-top2"><div class="rt-module-top3"></div></div></div>
					<div class="rt-module-inner">
	                							<div class="module-content">
		                	<div id="desktop-mobile-version-switch"><span id="mobile-version" class="version-switch"><a href="index.php%3Foption=com_content&amp;task=view&amp;id=8820&amp;Itemid=4%3Bisletter=1.html#">行動版</a></span></div>
自由軟體鑄造場 製作 最佳瀏覽狀態：IE7或Firefox2.0以上 (建議使用Firefox) ‧ 解析度1024*768 <br /> <strong>E-Mail</strong>：<a href="mailto:contact@openfoundry.org">contact@openfoundry.org</a> <strong>Address</strong>：台北市南港區研究院路2段128號 中央研究院資訊科學研究所 . <a href="privacy-policy.html">隱私權條款</a>. <a href="terms-of-use.html">使用條款</a><span style="position: relative; top: 8px; margin-top: -8px;"> <a href="about/8101.html"><img src="images/M_images/rss-feed-all.png" border="0" /></a></span>						</div>
					</div>
					<div class="rt-module-bottom"><div class="rt-module-bottom2"><div class="rt-module-bottom3"></div></div></div>
				</div>
            </div>
        	
</div>
						<div class="clear"></div>
					</div>
					<div class="rt-footer-bottom-wrap"><div class="rt-footer-bottom"><div class="rt-footer-bottom2"><div class="rt-footer-bottom3"></div></div></div></div>
									</div></div></div>
				<div class="rt-surround-bottom"><div class="rt-surround-bottom2"><div class="rt-surround-bottom3"></div></div></div>
							</div>
		</div>
		<!--
		<script id="aptureScript">
						(function (){var a=document.createElement("script");a.defer="true";a.src="http://www.apture.com/js/apture.js?siteToken=vsJttrn";document.getElementsByTagName("head")[0].appendChild(a);})();
     </script>
-->

<!-- Piwik -->
<!-- 			<script type="text/javascript">
			  var _paq = _paq || [];
		  _paq.push(["trackPageView"]);
		  _paq.push(["enableLinkTracking"]);

		    (function() {
			        var u=(("https:" == document.location.protocol) ? "https" : "https") + "://www.openfoundry.org/piwik/";
				    _paq.push(["setTrackerUrl", u+"piwik.php"]);
				    _paq.push(["setSiteId", "1"]);
				        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
				        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
					  })();
		  </script> -->
<!-- End Piwik Code -->
	</body>
</html>
